#!/bin/bash
# Lock Screen
# Locks the screen using hyprlock (Hyprland) or i3lock (X11)

if [[ -n "$WAYLAND_DISPLAY" ]]; then
    # Turn screen on first so the user sees the lock dialog
    hyprctl dispatch dpms on 2>/dev/null
    # Launch hyprlock (skip if already running)
    if ! pidof hyprlock &>/dev/null; then
        hyprlock
    fi
else
    if command -v i3lock &>/dev/null; then
        i3lock -c 1e1e2e
    elif command -v slock &>/dev/null; then
        slock
    else
        notify-send "Lock" "No lock screen available" -u critical
        exit 1
    fi
fi
